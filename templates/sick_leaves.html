{% extends "layout.html" %}

{% block content %}
<div class="row justify-content-space-between mt-3">
    <div class="col-6">
        <h1>Sick leaves</h1>
    </div>
    <div class="col-6 text-end align-self-end">
        <a class="btn btn-success" data-bs-toggle="collapse" href="#add_new_sick_leave_form" role="button"
            aria-expanded="true" aria-controls="add_new_sick_leave_form">
            +Add new sick leave
        </a>
    </div>
</div>
<hr>
<div class="collapse {% if add_sick_leave_form.end_date.errors %} show {% endif %}" id="add_new_sick_leave_form">
    <div class="card card-body">
        <form method="post" action="{{ url_for('sick_leaves') }}" class="row g-3">
            {{ add_sick_leave_form.hidden_tag() }}

            <div class="form-group col-md-4">
                {{ add_sick_leave_form.employee_id.label(class="form-control-label") }}
                {% if add_sick_leave_form.employee_id.errors %}
                {{ add_sick_leave_form.employee_id(class="form-control is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in add_sick_leave_form.employee_id.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ add_sick_leave_form.employee_id(class="form-control") }}
                {% endif %}
            </div>

            <div class="form-group col-md-4">
                {{ add_sick_leave_form.start_date.label(class="form-control-label") }}
                {% if add_sick_leave_form.start_date.errors %}
                {{ add_sick_leave_form.start_date(class="form-control is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in add_sick_leave_form.start_date.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ add_sick_leave_form.start_date(class="form-control") }}
                {% endif %}
            </div>

            <div class="form-group col-md-4">
                {{ add_sick_leave_form.end_date.label(class="form-control-label") }}
                {% if add_sick_leave_form.end_date.errors %}
                {{ add_sick_leave_form.end_date(class="form-control is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in add_sick_leave_form.end_date.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ add_sick_leave_form.end_date(class="form-control") }}
                {% endif %}
            </div>
            <button type="submit" class="btn btn-primary">Add sick leave</button>
        </form>
    </div>
</div>
{% include 'sick_leaves_table.html' %}
{% endblock content %}